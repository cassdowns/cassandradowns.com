<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Display a map with a custom style</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css" rel="stylesheet" />
<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<div id="map"></div>
<script>

var options = {
  enableHighAccuracy: true,
  timeout: 5000,
  maximumAge: 0
};

function success(pos) {
  crd = pos.coords;
  loadMap(crd.longitude,crd.latitude);
};

function error(err) {
  console.log(`ERROR(${err.code}): ${err.message}`);
  loadMap(25.2744,133.7751);
};

navigator.geolocation.getCurrentPosition(success, error, options);

function loadMap(lng,lat) {
	mapboxgl.accessToken = 'pk.eyJ1IjoiY2Fzc2FuZHJhZG93bnMiLCJhIjoiY2ticHZtb2NuMW1jajJydG1hZW4wM3BqbCJ9.8RA3P5GNwwWgJ21JTgphGQ';
var map = new mapboxgl.Map({
    container: 'map', // container id
	style: 'mapbox://styles/mapbox/dark-v10', //hosted style id
    center: [lng,lat], // starting position [lng, lat]
    zoom: 10 // starting zoom
});
}
</script>
 
</body>
</html>